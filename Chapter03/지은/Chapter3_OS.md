#  OS 운영체제 

## 3.1.1 운영체제의 역할과 구조 

### 운영체제
- 유저가 컴퓨터를 쉽게 다루게 해주는 *인터페이스*
- 한정된 메모리, 시스템 자원을 효율적으로 분배


### 펌웨어
- 운영체제와 역할은 유사, 소프트웨어를 추가로 설치할 수 없음

### 운영체제의 역할
1. CPU 스케줄링과 프로세스 관리
- CPU에 대한 소유권을 어떤 프로세스에 할당할지, 프로세스의 생성, 삭제,
 자원 할당 및 반환 관리
2. 메모리 관리
- 한정된 메모리의 프로세스 위치 및 할당량 관리
3. 디스크 관리
- 디스크 파일을 어떤 방식으로 보관할지 관리
4. I/O 디바이스 관리
- 마우스, 키보드 등 입출력 장치들 간의 데이터를 주고 받는 것을 관리


### 운영체제의 구조 

| 유저프로그램 |
| --- |
| GUI (CUI - 리눅스 서버) |
| 시스템콜 (인터페이스) |
| 커널 |
| 드라이버 |
| 하드웨어 |


GUI
- CLI와 같은 단순 명령어 창이 아닌 전자장치와 사용자가 상호작용하는 인터페이스의 형태 
- ex. sourceTree, gitkraken 등 

드라이버
- 장치 드라이버/제어기(문화어: 장치구동기, 장치구동프로그람) 또는 디바이스 드라이버(영어: device driver)는 특정 하드웨어나 장치를 제어하기 위한 소프트웨어
컴퓨터를 구성하는 다양한 입출력 장치마다 각각 장치드라이버가 프로그램 되어 커널에 통합되어 실행됨.
높은 수준의 컴퓨터 프로그램들이 컴퓨터 하드웨어 장치와 상호 작용하기 위해 만들어진 하나의 컴퓨터 프로그램이다. https://ko.wikipedia.org/wiki/%EC%9E%A5%EC%B9%98_%EB%93%9C%EB%9D%BC%EC%9D%B4%EB%B2%84


시스템 콜
- 운영체제가 커널에 접근하기 위한 인터페이스
- 유저 프로그램이 운영체제의 서비스를 받기 위해 커널 함수를 호출하는 경우 사용
- 컴퓨터 자원에 대한 직접 접근을 차단. 다른프로그램으로부터 프로그램을 보호 


Modebit(플래그 변수)
- 유저 프로그램이 운영체제의 서비스를 받기 위한 과정에서 커널 함수 호출 시 시스템 콜 사용 (공격 위험성 ⬇️)
- 시스템 콜에서 요청을 처리할 때 modebit을 참고하여 유저 모드 / 커널 모드를 구분

커널(운영체제의 핵심)
- 시스템 콜 인터페이스 제공
- 보안, 메모리, 프로세스, 파일 시스템, I/O 디바이스, I/O 관리 등 운영체제의 중추 역할 수행


## 3.1.2 컴퓨터의 요소 
- CPU, DMA 컨트롤러, 메모리, 타이머, 디바이스 컨트롤러 등

### CPU (Central Processing Unit)
- 산술논리연산장치, 제어장치, 레지스터로 구성 
- 인터럽트에 의해 메모리에 존재하는 명령어를 해석하여 실행

제어장치(CU, Control Unit)
- 프로세스 조작을 지시하는 cpu의 부품
- 입출력 간 통신 제어, 명령어 읽기/해석
- 데이터 처리를 위한 순서 결정

레지스터
- CPU안의 매우 빠른 임시기억장치
- CPU와 직접연결이 되어 있어 연산속도가 메모리에 비해 수십~수백배 빠름
- CPU는 자체적으로 데이터를 저장할 수 없어 레지스터를 거쳐 데이터를 전달

산술논리연산장치(ALU, Arithmetic Logic Unit)
- 덧셈, 뺄셈과 같은 두 숫자의 산술 연산, 논리합, 논리곱 같은 논리연산을 계산하는 디지털 회로 

DMA 컨트롤러  
- I/ O 디바이스가 메모리에 직접  접근할 수 있도록 하는 하드웨어 장치
-  CPU 부하를 막아준다
- CPU의 일을 부담하는 보조 일꾼
- 하나의 task에 대해 CPU와 DMA 컨트롤러가 동시에 작업 하는 것을 방지


메모리(Memory)
- 전자회로에서 데이터나 상태, 명령어 등을 기록하는 장치
- 보통 RAM을 일컬음
- CPU가 계산을 담당할 때 메모리는 기억 담당

타이머 (Timer)
- 특정 프로그램에 시간 제한 시 사용
- 시간이 많이 걸리는 프로그램이 작동할 때 제한을 걸기 위해 존재


디바이스 컨트롤러  
- 컴퓨터와 연결되어 있는 IO 디바이스들의 작은 CPU
- 로컬 버퍼: 디바이스 컨트롤러 옆에 위치. 각 디바이스에서 데이터를 임시로 저장하기 위한 작은 메모리




## 3.2.1 메모리 계층
- 레지스터, 캐시, 메모리, 저장장치로 구성  

### 주기억장치
1. 레지스터
- CPU안에 있는 작은 메모리
2. 캐시
- L1, L2 캐시 지칭. 휘발성, 속도빠름, 기억 용량이 적다.
3. 주기억장치
- RAM. 휘발성, 속도 보통, 기억용량 보통
4. 보조기억장치
- HDD, SSD. 비휘발성, 속도 낮음, 기억용량 많음

캐시
- 데이터를 미리 복사해놓는 임시 저장소
- 속도 차이에 따른 병목현상을 줄이기 위한 메모리

지역성의 원리 
- 캐시 계층을 두지 않고 직접 설정 시 사용됨 

시간적 지역성  
- 데이터가 한번 접근되었을 경우, 가까운 미래에 또 한번 데이터에 접근할 가능성이 높은 것  
공간적 지역성  
- 특정 데이터와 가까운 주소가 순서대로 접근되었을 경우

캐시히트와 캐시미스
캐시히트
- 캐시에서 원하는 데이터를 찾은 경우 
캐시미스
- 캐시에 없을 때 주메모리로 가서 데이터를 찾아올 때 
캐시매핑
- 캐시가 히트되기 위해 매핑하는 방법

웹 브라우저의 캐시
사용자의 커스텀한 정보나 인증 모듈 관련 사항들을 웹 브라우저에 저장해서 추후 서버에 요청할 때 \n 자신을 나타내는 신원이나 중복 요청 방지를 위해 사용
